<div class="container mt-2">
  <div class="container mt-3 p-3 bg-white shadow-main rounded">
    <h2><%= @flat.name %></h2>
    <div class="d-flex flex-column">
      <p><%= @flat.address %></p>
      <% unless @flat.image_url.nil? %>
        <%= image_tag @flat.image_url, alt: @flat.name, class: "w-50 img-fluid rounded" %>
      <% end %>
        <p>Desc: <%= @flat.description %></p>
        <p class="btn btn-lg btn-success fw-bold">£<%= @flat.price_per_day.floor %></p>
        <p>⬆️ make this a link</p>
        <div class="d-flex justify-content-center align-items-center bg-info">
          <p>Let's add mapify here so we can see where they are</p>
        </div>
        <%= link_to "Back", flats_path, class: "btn btn-sm btn-outline-dark mt-2" %>

        <h1>New booking</h1>
        <%= simple_form_for [@flat, @booking] do |f| %>
          <%= f.input :start_date, html5: true %>
          <%= f.input :end_date, html5: true %>
          <%= f.submit "Book!", class: "btn btn btn-success" %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<%# <% if @flat.user == current_user
        <%# <%= link_to 'Edit', edit_flat_path(@flat)
        <%# <%= link_to 'Back', flats_path


<h4><%= @flat.name %></h4>

<div style="width: 100%; height: 600px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
</div>


<%#
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

    <link rel="stylesheet" type="text/css" href="./style.css" />
    <script type="module" src="./index.js"></script>
  </head>
  <>
    <h3>My Google Maps Demo</h3>
    <!--The div element for the map -->
    <div id="map"></div>

    <!--
     The `defer` attribute causes the callback to execute after the full HTML
     document has been parsed. For non-blocking uses, avoiding race conditions,
     and consistent behavior across browsers, consider loading using Promises
     with https://www.npmjs.com/package/@googlemaps/js-api-loader.
    -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly"
      defer
    ></script> %>
